
                    <!DOCTYPE html>
                    <html lang="en">
                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <title>Exported Code</title>
                        <style>body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: #333;
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    background-color: #f5f5f5;
}

.container {
    background: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

h1 {
    color: #0096FF;
    margin-bottom: 20px;
}

p {
    margin-bottom: 20px;
}

button {
    background-color: #0096FF;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s;
}

button:hover {
    background-color: #007acc;
}</style>
                    </head>
                    <body>
                        <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Live Code Editor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* CSS Reset and Basic Setup */
        :root {
            --primary-color: #0096FF;
            --primary-hover: #007acc;
            
            /* Light Theme Variables */
            --bg-color-light: #f0f4f8;
            --panel-bg-light: #ffffff;
            --text-color-light: #1a202c;
            --border-color-light: #e2e8f0;
            --button-bg-light: #edf2f7;
            --button-text-light: #4a5568;
            --shadow-light: 0 4px 6px rgba(0, 0, 0, 0.05);

            /* Dark Theme Variables */
            --bg-color-dark: #1a202c;
            --panel-bg-dark: #2d3748;
            --text-color-dark: #e2e8f0;
            --border-color-dark: #4a5568;
            --button-bg-dark: #4a5568;
            --button-text-dark: #e2e8f0;
            --shadow-dark: 0 4px 6px rgba(0, 0, 0, 0.2);

            /* Default to light theme */
            --bg-color: var(--bg-color-light);
            --panel-bg: var(--panel-bg-light);
            --text-color: var(--text-color-light);
            --border-color: var(--border-color-light);
            --button-bg: var(--button-bg-light);
            --button-text: var(--button-text-light);
            --shadow: var(--shadow-light);
        }

        /* Apply dark theme variables when .dark-mode is present */
        body.dark-mode {
            --bg-color: var(--bg-color-dark);
            --panel-bg: var(--panel-bg-dark);
            --text-color: var(--text-color-dark);
            --border-color: var(--border-color-dark);
            --button-bg: var(--button-bg-dark);
            --button-text: var(--button-text-dark);
            --shadow: var(--shadow-dark);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            height: 100vh;
            overflow: hidden;
            transition: background-color 0.3s, color 0.3s;
        }

        /* Main container for editor and preview */
        .container {
            display: flex;
            width: 100%;
            height: 100%;
        }

        /* Editor Panel */
        .editor-panel {
            display: flex;
            flex-direction: column;
            width: 50%;
            height: 100%;
            background-color: var(--panel-bg);
            transition: background-color 0.3s, border-color 0.3s;
            flex-shrink: 0; /* Prevent panel from shrinking */
        }

        /* Header for controls */
        .editor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background-color: rgba(255, 255, 255, 0.05); /* Subtle glass effect */
            border-bottom: 1px solid var(--border-color);
            flex-shrink: 0;
        }
        
        .editor-tabs {
            display: flex;
            gap: 0.5rem;
        }

        .tab-btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.375rem;
            background-color: var(--button-bg);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s, box-shadow 0.2s;
            white-space: nowrap;
        }

        .tab-btn.active {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 0 0 3px rgba(0, 150, 255, 0.3);
        }

        .controls {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .control-btn {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: 0.375rem;
            background-color: transparent;
            color: var(--text-color);
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s, color 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .control-btn:hover {
            background-color: var(--button-bg);
        }

        .run-btn {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .run-btn:hover {
            background-color: var(--primary-hover);
            border-color: var(--primary-hover);
            color: white;
        }
        
        /* Theme Toggle Switch */
        .theme-switch {
            position: relative;
            display: inline-block;
            width: 48px;
            height: 24px;
        }

        .theme-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--button-bg);
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }

        input:checked + .slider {
            background-color: var(--primary-color);
        }

        input:checked + .slider:before {
            transform: translateX(24px);
        }


        /* Code Editor Area */
        .editor-container {
            flex-grow: 1;
            position: relative;
            overflow: hidden;
        }

        .code-editor {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 1rem;
            border: none;
            background-color: var(--panel-bg);
            color: var(--text-color);
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            line-height: 1.6;
            resize: none;
            outline: none;
            transition: opacity 0.3s, visibility 0.3s;
            opacity: 1;
            visibility: visible;
            z-index: 1;
        }

        .code-editor:not(.active) {
            opacity: 0;
            visibility: hidden;
            z-index: 0;
        }
        
        /* Resizer Handle */
        .resizer {
            width: 5px;
            height: 100%;
            background: var(--border-color);
            cursor: col-resize;
            flex-shrink: 0;
            transition: background-color 0.3s;
        }
        .resizer:hover {
            background: var(--primary-color);
        }

        /* Preview Panel */
        .preview-panel {
            width: 50%;
            height: 100%;
            display: flex;
            flex-grow: 1; /* Allow panel to grow and fill space */
            position: relative;
        }

        #preview-frame {
            width: 100%;
            height: 100%;
            border: none;
            background-color: #ffffff; /* Iframe background should be white */
        }

        .preview-error {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: #ff3860;
            color: white;
            padding: 8px 12px;
            font-size: 12px;
            display: none;
        }

        /* Mobile tab selector */
        .mobile-tab-selector {
            display: none;
            width: 100%;
            padding: 0.5rem;
            border: 1px solid var(--border-color);
            border-radius: 0.375rem;
            background-color: var(--button-bg);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-weight: 500;
            margin: 0 0.75rem;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .editor-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.75rem;
            }
            
            .editor-tabs {
                width: 100%;
                overflow-x: auto;
                padding-bottom: 0.25rem;
            }
            
            .controls {
                width: 100%;
                justify-content: space-between;
            }
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .editor-panel, .preview-panel {
                width: 100%;
                height: 50%;
            }
            
            .resizer {
                width: 100%;
                height: 5px;
                cursor: row-resize;
            }
            
            .mobile-tab-selector {
                display: block;
            }
            
            .editor-tabs {
                display: none;
            }
            
            .control-btn span {
                display: none;
            }
            
            .control-btn {
                padding: 0.5rem;
            }
            
            .code-editor {
                font-size: 16px; /* Better for mobile touch */
            }
        }

        @media (max-width: 480px) {
            .editor-header {
                padding: 0.5rem;
            }
            
            .controls {
                gap: 0.5rem;
            }
            
            .theme-switch {
                width: 40px;
                height: 20px;
            }
            
            .slider:before {
                height: 16px;
                width: 16px;
            }
            
            input:checked + .slider:before {
                transform: translateX(20px);
            }
        }

    </style>
</head>
<body>

    <div class="container">
        <!-- Editor Panel -->
        <div class="editor-panel" id="editor-panel">
            <header class="editor-header">
                <select class="mobile-tab-selector" id="mobile-tab-selector">
                    <option value="html">HTML</option>
                    <option value="css">CSS</option>
                    <option value="js">JavaScript</option>
                </select>
                <div class="editor-tabs">
                    <button class="tab-btn active" data-lang="html">HTML</button>
                    <button class="tab-btn" data-lang="css">CSS</button>
                    <button class="tab-btn" data-lang="js">JS</button>
                </div>
                <div class="controls">
                    <button class="control-btn" id="download-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                          <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/>
                          <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
                        </svg>
                        <span>Download</span>
                    </button>
                    <button class="control-btn run-btn" id="run-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                          <path d="M10.804 8 5 4.633v6.734L10.804 8zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696l6.363 3.692z"/>
                        </svg>
                        <span>Run</span>
                    </button>
                    <label class="theme-switch">
                        <input type="checkbox" id="theme-toggle">
                        <span class="slider"></span>
                    </label>
                </div>
            </header>
            <div class="editor-container">
                <textarea class="code-editor html-editor active" id="html-editor" spellcheck="false"></textarea>
                <textarea class="code-editor css-editor" id="css-editor" spellcheck="false"></textarea>
                <textarea class="code-editor js-editor" id="js-editor" spellcheck="false"></textarea>
            </div>
        </div>

        <!-- Resizer Handle -->
        <div class="resizer" id="resizer"></div>

        <!-- Preview Panel -->
        <div class="preview-panel" id="preview-panel">
            <iframe id="preview-frame" title="Live Preview"></iframe>
            <div class="preview-error" id="preview-error"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // DOM Elements
            const htmlEditor = document.getElementById('html-editor');
            const cssEditor = document.getElementById('css-editor');
            const jsEditor = document.getElementById('js-editor');
            const previewFrame = document.getElementById('preview-frame');
            const errorDisplay = document.getElementById('preview-error');
            const runBtn = document.getElementById('run-btn');
            const downloadBtn = document.getElementById('download-btn');
            const tabBtns = document.querySelectorAll('.tab-btn');
            const mobileTabSelector = document.getElementById('mobile-tab-selector');
            const codeEditors = document.querySelectorAll('.code-editor');
            const themeToggle = document.getElementById('theme-toggle');

            // --- Default Code Snippets ---
            const defaultHTML = `<!DOCTYPE html>
<html>
<head>
    <title>My Page</title>
</head>
<body>
    <div class="container">
        <h1>Welcome to the Live Editor!</h1>
        <p>Edit the HTML, CSS, and JavaScript tabs to see changes in real-time.</p>
        <button onclick="showMessage()">Click Me</button>
        <div id="output"></div>
    </div>
</body>
</html>`;

            const defaultCSS = `body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    line-height: 1.6;
    color: #333;
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    background-color: #f5f5f5;
}

.container {
    background: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

h1 {
    color: #0096FF;
    margin-bottom: 20px;
}

p {
    margin-bottom: 20px;
}

button {
    background-color: #0096FF;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s;
}

button:hover {
    background-color: #007acc;
}`;

            const defaultJS = `function showMessage() {
    const output = document.getElementById('output');
    output.innerHTML = '<p>Hello! You clicked the button.</p>';
    
    // Create a new element
    const newElement = document.createElement('div');
    newElement.innerHTML = '<p>This is dynamically added content!</p>';
    newElement.style.marginTop = '10px';
    newElement.style.padding = '10px';
    newElement.style.backgroundColor = '#e6f7ff';
    newElement.style.borderLeft = '4px solid #0096FF';
    
    output.appendChild(newElement);
}`;

            // --- Core Functions ---

            /**
             * Renders the code from the editors into the iframe.
             */
            function renderCode() {
                const htmlCode = htmlEditor.value;
                const cssCode = cssEditor.value;
                const jsCode = jsEditor.value;

                try {
                    const sourceCode = `
                        <!DOCTYPE html>
                        <html lang="en">
                        <head>
                            <meta charset="UTF-8">
                            <meta name="viewport" content="width=device-width, initial-scale=1.0">
                            <style>${cssCode}</style>
                        </head>
                        <body>
                            ${htmlCode}
                            <script>${jsCode}<\/script>
                        </body>
                        </html>
                    `;
                    
                    // Write to iframe
                    previewFrame.srcdoc = sourceCode;
                    errorDisplay.style.display = 'none';
                } catch (error) {
                    errorDisplay.textContent = `Error: ${error.message}`;
                    errorDisplay.style.display = 'block';
                }
            }

            /**
             * Handles switching between HTML, CSS, and JS editor tabs.
             */
            function switchTab(lang) {
                tabBtns.forEach(btn => btn.classList.toggle('active', btn.dataset.lang === lang));
                codeEditors.forEach(editor => editor.classList.toggle('active', editor.classList.contains(`${lang}-editor`)));
                mobileTabSelector.value = lang;
            }

            /**
             * Generates and downloads the code as a single HTML file.
             */
            function downloadCode() {
                const fullHtml = `
                    <!DOCTYPE html>
                    <html lang="en">
                    <head>
                        <meta charset="UTF-8">
                        <meta name="viewport" content="width=device-width, initial-scale=1.0">
                        <title>Exported Code</title>
                        <style>${cssEditor.value}</style>
                    </head>
                    <body>
                        ${htmlEditor.value}
                        <script>${jsEditor.value}<\/script>
                    </body>
                    </html>
                `;
                const blob = new Blob([fullHtml], { type: 'text/html' });
                const a = document.createElement('a');
                a.href = URL.createObjectURL(blob);
                a.download = 'index.html';
                a.click();
                URL.revokeObjectURL(a.href);
            }

            // --- Local Storage for Persistence ---
            function saveCode() {
                localStorage.setItem('htmlCode', htmlEditor.value);
                localStorage.setItem('cssCode', cssEditor.value);
                localStorage.setItem('jsCode', jsEditor.value);
            }

            function loadCode() {
                htmlEditor.value = localStorage.getItem('htmlCode') || defaultHTML;
                cssEditor.value = localStorage.getItem('cssCode') || defaultCSS;
                jsEditor.value = localStorage.getItem('jsCode') || defaultJS;
            }

            // --- Theme Management ---
            function applyTheme(isDark) {
                 document.body.classList.toggle('dark-mode', isDark);
                 themeToggle.checked = isDark;
            }

            function toggleTheme() {
                const isDark = themeToggle.checked;
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
                applyTheme(isDark);
            }
            
            function initTheme() {
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme) {
                    applyTheme(savedTheme === 'dark');
                } else {
                    applyTheme(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches);
                }
            }

            // --- Resizable Panels ---
            const resizer = document.getElementById('resizer');
            const editorPanel = document.getElementById('editor-panel');
            const previewPanel = document.getElementById('preview-panel');
            let isResizing = false;

            function startResize(e) {
                isResizing = true;
                // Prevent text selection and iframe pointer events during resize
                document.body.style.userSelect = 'none';
                previewFrame.style.pointerEvents = 'none';

                document.addEventListener('mousemove', handleMouseMove);
                document.addEventListener('mouseup', stopResize);
                
                // Add touch events for mobile
                document.addEventListener('touchmove', handleTouchMove, { passive: false });
                document.addEventListener('touchend', stopResize);
            }

            function handleMouseMove(e) {
                if (!isResizing) return;
                handleResize(e.clientX, e.clientY);
            }
            
            function handleTouchMove(e) {
                if (!isResizing) return;
                e.preventDefault(); // Prevent scrolling while resizing
                handleResize(e.touches[0].clientX, e.touches[0].clientY);
            }

            function handleResize(clientX, clientY) {
                const isVerticalLayout = window.innerWidth <= 768;
                
                if (isVerticalLayout) {
                    const newHeight = (clientY / window.innerHeight) * 100;
                    if (newHeight > 20 && newHeight < 80) { // Reasonable constraints for mobile
                        editorPanel.style.height = `${newHeight}%`;
                        previewPanel.style.height = `${100 - newHeight}%`;
                    }
                } else {
                    const newWidth = (clientX / window.innerWidth) * 100;
                    if (newWidth > 20 && newWidth < 80) { // Reasonable constraints for desktop
                        editorPanel.style.width = `${newWidth}%`;
                        previewPanel.style.width = `${100 - newWidth}%`;
                    }
                }
            }

            function stopResize() {
                isResizing = false;
                document.removeEventListener('mousemove', handleMouseMove);
                document.removeEventListener('touchmove', handleTouchMove);
                // Re-enable events
                document.body.style.userSelect = 'auto';
                previewFrame.style.pointerEvents = 'auto';
            }

            // --- Event Listeners ---
            runBtn.addEventListener('click', renderCode);
            downloadBtn.addEventListener('click', downloadCode);
            themeToggle.addEventListener('change', toggleTheme);
            tabBtns.forEach(btn => btn.addEventListener('click', (e) => switchTab(e.target.dataset.lang)));
            mobileTabSelector.addEventListener('change', (e) => switchTab(e.target.value));

            [htmlEditor, cssEditor, jsEditor].forEach(editor => {
                editor.addEventListener('input', () => {
                    saveCode();
                    renderCode();
                });
            });
            
            // Add both mouse and touch events for resizing
            resizer.addEventListener('mousedown', startResize);
            resizer.addEventListener('touchstart', startResize, { passive: true });

            // --- Initialization ---
            initTheme();
            loadCode();
            renderCode();
            
            // Handle window resize to adjust layout if needed
            window.addEventListener('resize', () => {
                // Reset panel sizes on orientation change for better mobile experience
                if (window.innerWidth <= 768) {
                    editorPanel.style.width = '100%';
                    previewPanel.style.width = '100%';
                    editorPanel.style.height = '50%';
                    previewPanel.style.height = '50%';
                } else {
                    editorPanel.style.width = '50%';
                    previewPanel.style.width = '50%';
                    editorPanel.style.height = '100%';
                    previewPanel.style.height = '100%';
                }
            });
        });
    </script>
</body>
</html>
                        <script>function showMessage() {
    const output = document.getElementById('output');
    output.innerHTML = '<p>Hello! You clicked the button.</p>';
    
    // Create a new element
    const newElement = document.createElement('div');
    newElement.innerHTML = '<p>This is dynamically added content!</p>';
    newElement.style.marginTop = '10px';
    newElement.style.padding = '10px';
    newElement.style.backgroundColor = '#e6f7ff';
    newElement.style.borderLeft = '4px solid #0096FF';
    
    output.appendChild(newElement);
}</script>
                    </body>
                    </html>
                
